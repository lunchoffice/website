import{a as d}from"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-7E6W2ZET.js";import{a as h,b as c}from"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-5V7RIHK5.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-CN76BUJZ.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-MT2SQY2W.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-6A7K377F.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-JNNV4ACA.js";import{a,b as u}from"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-7Y4EZYMN.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-EVHKM26W.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-5X4FSU5W.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-XN4XMZ3Y.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-XS7IOO33.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-6KY7HPWF.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-HMVHNYGJ.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-RCATEAZ7.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-WGBKAOYK.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-AZOAPSEC.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-T4XK4RMJ.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-S6WJRVRC.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-BXU77WCD.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-HAGTJXER.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-NVQSUXQM.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-KZLKOCOS.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-3IZ7ULU6.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-664SNB3Y.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-TLV3A63Q.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-ZVWPSISI.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-NTXKAOXQ.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-2DQTJCLI.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-CIUBNFL4.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-5EEFWOSP.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-OQ55FIGM.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-K63NBZMV.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-CK3WTISR.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-67LJUJZJ.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-5M5O364K.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-QIKJDD7D.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-SJTMEUYS.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-5H4U2CFA.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-4OGNP2SE.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-OV6OQTZL.js";import{o,p as w}from"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-FXYSYPKH.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-VROW64DX.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-IFAZFWWX.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-5ZZ2MAEM.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-CWJKY3DQ.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-TCW7AU5B.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-TZI6EFTZ.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-HPF4OSFG.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-UEW2M7X6.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-4V3WR64N.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-A4DVYWQS.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-TCX2WXEU.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-U5K4E52C.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-WGBSCYQK.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-IH7B7A23.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-VKA7MXOG.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-372VUFQL.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-LKG22B6Y.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-WPBW27TF.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-5DYTLJBW.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-VRBO5IAF.js";import{b as m}from"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-CVTAH4UK.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-UFVXPETL.js";import"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-DDHS4M4K.js";import{d as _}from"https://st-p.rmcdn1.net/3233e0ca/dist/c/c-YGS3YKY6.js";var i=_(m());u();w();c();var p=d.extend({CONTENT_WAIT_TICK:100,CONTENT_WAIT_MAX_TICKS:20,CONTENT_IMG_WAIT:1e3,DO_NOT_WAIT_FOR_PRELOAD:!0,render:function(){this.makeBox("widget-twitter"),this.rendered=!0;let e,t;return this.current_type?(t=this[this.current_type],t.use_own_url==="mag"?t.url=this.page.mag.getUrl():(t.use_own_url==="page"||!t.url)&&(t.url=this.page.getUrl()),RM.screenshot||(t.text=a.getFinalShare(this.page,i.default.extend(this.page.mag.model.toJSON(),{user:this.page.mag.user}),{forProject:t.use_own_url==="mag",customDomain:RM.common.isDomainViewer}).tweet),e=h["template-constructor-block-twitter-"+this.current_type],this.$el.html(e(t)),this.current_type==="type_timeline"&&this.$el.find("a").attr({width:this.w,height:this.h}),o.initTwitterAPI(function(){this.destroyed||(window.twttr&&window.twttr.widgets&&i.default.isFunction(window.twttr.widgets.load)&&window.twttr.widgets.load(),(0,i.default)(["type_timeline","type_embed"]).contains(this.current_type)?this.waitForTwitterContent():this.widgetIsLoaded())}.bind(this)),this):(this.widgetIsLoaded(),this)},waitForTwitterContent:function(){let e,t=0,r,n=!1,s,l={type_timeline:".timeline-Widget",type_embed:"blockquote.tweet"};clearInterval(e),e=setInterval(i.default.bind(function(){if(t++,this.destroyed){clearInterval(e);return}r=this.$el.find("iframe"),r.length==1&&(s=l[this.current_type],n=r.contents().find(s).length>0),(n||t>this.CONTENT_WAIT_MAX_TICKS)&&(this.current_type=="type_embed"&&r.css({margin:0,"max-width":"100%"}),this.current_type=="type_timeline"&&r.css({width:"100%",height:"100%!important","max-width":"100%"}),clearInterval(e),setTimeout(i.default.bind(function(){this.widgetIsLoaded()},this),this.CONTENT_IMG_WAIT))},this),this.CONTENT_WAIT_TICK)}}),y=p;export{y as default};
